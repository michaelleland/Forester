<div id="entry_form">
	<form action="/add_payment_entry_row" method="post" data-remote="true">
		<h4>New Entry</h4>
	<form action="/add_entry_row" method="post" data-remote="true">
		<table id="entry_table">
			<tr>
				<th>Date</th>
				<th>Job</th>
				<th>Destination</th>
				<th>Wood type</th>
				<th>Load type</th>
				<th>Payment #</th>
				<th>Tickets</th>
				<th>Tonnage</th>
				<th>Net MBF</th>
				<th>Total Payment</th>
				<th>Action</th>
			</tr>
			<tr>
				<td>
					<input type="text" name="payment_date" id="date" size="7" class="fields"/>
					<script> $('#date').datepicker({ dateFormat: 'yy-mm-dd'}); $('#date').mask("9999-99-99", {placeholder: " "});</script>
				</td>
				<td>
					<input type="text" id="job_name" name="job_name" size="12" class="fields"/>
					<script> 
						$(function() {
							var jobs = [
								<% @jobs.each do |i| %>
									<%= "'#{i.name}'," %>
								<% end %>
							];
													
							$('#job_name').autocomplete({ 
								source: jobs,
								delay: 50,
								autoFocus: true
							});
						});
					</script>
				</td>
				<td>
					<input type="text" id="destination_name" name="destination_name" size="15" class="fields" />
					<script> 
						$(function() {
							var destinations = [
								<% @destinations.each do |i| %>
									<%= "'#{i.name}'," %>
								<% end %>
							];
													
							$('#destination_name').autocomplete({ 
								source: destinations,
								delay: 50,
								autoFocus: true
							});
						});
					</script>
				</td>
				<td>
					<select name="wood_type">
						<% WoodType.all.each do |i| %>
							<option value="<%= i.id %>"><%= i.name %></option>
						<% end %>					
					</select>
				</td>
				<td>
					<select name="load_type">
						<option value="MBF">MBF</option>
						<option value="Tonnage">Tonnage</option>
					</select>
				</td>
				<td>
					<input type="text" size="6" name="payment_num" class="fields"/>
				</td>
				<td>
					<input type="text" size="5" name="tickets" class="fields"/>
				</td>
				<td>
					<input type="text" size="5" name="tonnage" class="fields"/>
				</td>
				<td>
					<input type="text" size="5" name="net_mbf" class="fields"/>
				</td>
				<td>
					<input type="text" size="8" name="total_payment" class="fields"/>
				</td>
				<td>
					<input type="submit" value="Submit" />
				</td>
			</tr>
		</table>
	</form>
</div>

<div id="current_entries">
	<h4>Current entries</h4>
	<table>
		<tr>
			<th class="table_headers date_headers">Date</th>
			<th class="table_headers job_headers">Job</th>
			<th class="table_headers destination_headers">Destination</th>
			<th class="table_headers wood_type_headers">Wood type</th>
			<th class="table_headers load_type_headers">Load type</th>
			<th class="table_headers payment_no_headers">Payment #</th>
			<th class="table_headers tickets_headers">Tickets</th>
			<th class="table_headers net_mbf_headers">Tonnage</th>
			<th class="table_headers tonnage_headers">Net MBF</th>
			<th class="table_headers payment_headers">Total Payment</th>
			<th class="table_headers action_headers">Action</th>
		</tr>		
	</table>
</div>

<div id="all_entries">
	<h4>All Entries</h4>
	<table>
		<tr>
			<th class="table_headers date_headers">Date</th>
			<th class="table_headers job_headers">Job</th>
			<th class="table_headers destination_headers">Destination</th>
			<th class="table_headers wood_type_headers">Wood type</th>
			<th class="table_headers load_type_headers">Load type</th>
			<th class="table_headers payment_no_headers">Payment #</th>
			<th class="table_headers tickets_headers">Tickets</th>
			<th class="table_headers net_mbf_headers">Tonnage</th>
			<th class="table_headers tonnage_headers">Net MBF</th>
			<th class="table_headers payment_headers">Total Payment</th>
			<th class="table_headers action_headers">Action</th>
		</tr>
	</table>
</div>

<script>
	refresh_all_entries('payment');
</script>
